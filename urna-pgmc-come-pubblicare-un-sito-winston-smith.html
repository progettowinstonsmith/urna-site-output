<!DOCTYPE html>
<html lang="en">
<head>
        <title>Urna — PGMC - come pubblicare un sito Winston Smith</title>
        <meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <link rel="shortcut icon" href="http://launchyard.com/images/favicon.png"/>
        <link rel="stylesheet" href="./theme/css/main.css" type="text/css" />

        <!--[if IE]>
                <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script><![endif]-->

        <!--[if lte IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie.css"/>
                <script src="./js/IE8.js" type="text/javascript"></script><![endif]-->

        <!--[if lt IE 7]>
                <link rel="stylesheet" type="text/css" media="all" href="./css/ie6.css"/><![endif]-->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js" type="text/javascript"></script>


</head>

<body id="index" class="home">
	
  <!--      <header id="banner" class="body">
                <h1><a href="./"><img src="http://www.launchyard.com/images/logo.png" /><strong><a href="/" >URNA&rarr;</a> conserva le<br/>cose a cui<br/>Winston Smith<br/>tiene</strong></a></h1>
        </header> -->
<!-- /#banner -->
	      <div class="LaunchyardDetail"><p><a href="./"></a><img src="./theme/images/urna.png" width="100%" height="100%" alt="URNA logo"></a><br/><a href="/" >URNA&rarr;</a> conserva le<br/>cose a cui<br/>Winston Smith<br/>tiene</p></div>

<section id="content" >
    <div class="body">
      <article>
        <header>
          <h1 class="entry-title">
            <a href="./urna-pgmc-come-pubblicare-un-sito-winston-smith.html" rel="bookmark"
               title="Permalink to Urna — PGMC - come pubblicare un sito Winston Smith">Urna — PGMC - come pubblicare un sito Winston Smith</a></h1>

        </header>

        <div class="entry-content">
<div class="post-info">
	<ul>
        <li class="vcard author">
                 by&nbsp;<a class="url fn" href="./author/winston-smith.html">Winston Smith</a>
        </li>
        <li class="published" title="2015-04-24T10:20:00+02:00">
          on&nbsp;Fri 24 April 2015
        </li>

	</ul>

</div><!-- /.post-info -->          <p>Esistono due differenti modi per pubblicare un sito Winston Smith PMGC a seconda che si abbia o meno l'accesso diretto a Casellante:</p>
<h2>Se non hai accesso a Casellante</h2>
<p>In questo caso:</p>
<ul>
<li>
<p>se non hai accesso neppure al <a href="https://github.com/progettowinstonsmith">repository</a> dei siti su Github, l'unico modo di contribuire è preparare una <a href="https://help.github.com/articles/creating-a-pull-request/">pull-request</a> e contattare uno degli amministratori.</p>
</li>
<li>
<p>se hai almeno accesso al repository dei siti su Github ma non a Casellante puoi rigenerare la versione statica e attendere il prossimo aggiornamento periodico.</p>
</li>
</ul>
<h2>Se hai accesso a Casellante</h2>
<p>(ed hai pure particolare fretta tanto da non voler attendere l'aggiornamento periodico)</p>
<ul>
<li>rigenera la versione statica e senza attendere il prossimo aggiornamento periodico,</li>
<li>forza la sincronizzazione immediata</li>
</ul>
<h2>Come rigenerare la versione statica del sito</h2>
<p>Segui semplicemente i passi già indicati in <a href="/urna-pgmc-come-modificare-un-sito-winston-smith.html">come modificare un sito Winston Smith</a>, nel tuo ambiente di lavoro o in quello di <code>ampleforth</code>. Verifica sempre che il sito non abbia problemi.</p>
<p>Entra nella directory <code>output</code>:</p>
<div class="highlight"><pre>cd output
</pre></div>


<p>Pubblica su github la nuova versione del sito (il repository del sito statico è differente da quello di generazione e contiene solo i file html e di supporto):</p>
<div class="highlight"><pre>git push
</pre></div>


<p>A questo punto il sito sarà pubblicato  attraverso un automatismo periodico.</p>
<h2>Come forzare l'immediata sincronizzazione</h2>
<p>Entrare nel proprio utente di Casellante ed eseguire il comando:</p>
<div class="highlight"><pre>pmgc-resync-now &lt;label&gt;
</pre></div>


<p>A questo punto abbi fiducia e dopo qualche minuto verifica che sia andato tutto bene.</p>
<h2>Trucco veramente sporco per sincronizzare SUBITO</h2>
<p>Se sei uno dei pochi fortunati dotato di un accesso ssh ai siti web di casellante, puoi dare il seguente comando direttamente dalla directory <code>&lt;progetto&gt;-site</code> dopo aver rigenerato (e verificato la correttezza del sito):</p>
<div class="highlight"><pre>make ssh_update
</pre></div>


<p>Attenzione: se non hai committato correttamente <em>i file statici anche</em> alla prima fase di aggiornamento periodico le modifiche <em>scompariranno</em> (non del tutto se hai almeno committato il sorgente).</p>
<p>PS - Perché questo trucco funzioni c'è un ingrediente segreto che dovrò dirti a voce.</p>
        </div><!-- /.entry-content -->

      </article>
    </div>
</section>
        <section id="extras" >
       
        
        </section><!-- /#extras -->
	
        <footer id="contentinfo" >
                <address id="about" class="vcard ">
                Proudly powered by <a href="http://getpelican.com/" target="_blank">Pelican</a>, which takes
                great advantage of <a href="http://python.org" target="_blank">Python</a>. &copy; <a class="url fn" href="http://launchyard.com">LaunchYard</a>
		
                </address><!-- /#about -->
		

                
        </footer><!-- /#contentinfo -->

</body>
</html>